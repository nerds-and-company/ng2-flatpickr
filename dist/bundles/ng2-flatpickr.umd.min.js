!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("flatpickr"),require("@angular/core"),require("@angular/forms"),require("@angular/common")):"function"==typeof define&&define.amd?define("ng2-flatpickr",["exports","flatpickr","@angular/core","@angular/forms","@angular/common"],e):e((t=t||self)["ng2-flatpickr"]={},t.flatpickr,t.ng.core,t.ng.forms,t.ng.common)}(this,(function(t,e,n,i,a){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e;var r=["flatpickr"];function o(t,e){if(1&t){var i=n.ɵɵgetCurrentView();n.ɵɵelementStart(0,"input",3),n.ɵɵlistener("focus",(function(t){return n.ɵɵrestoreView(i),n.ɵɵnextContext().onFocus(t)})),n.ɵɵelementEnd()}if(2&t){var a=n.ɵɵnextContext();n.ɵɵclassMapInterpolate1("ng2-flatpickr-input ",a.addClass,""),n.ɵɵproperty("placeholder",a.placeholder)("tabindex",a.tabindex)}}var l=["*"],p=function(){function t(){var t=this;this._tabindex=0,this.onTouchedFn=function(){},this.defaultFlatpickrOptions={wrap:!0,clickOpens:!0,onChange:function(e){t.writeValue(e)}},this.placeholder="",this.addClass="",this.hideButton=!1,this.propagateChange=function(t){}}return Object.defineProperty(t.prototype,"tabindex",{get:function(){return this._tabindex},set:function(t){this._tabindex=Number(t)},enumerable:!0,configurable:!0}),t.prototype.writeValue=function(t){this.propagateChange(t)},t.prototype.registerOnChange=function(t){this.propagateChange=t},t.prototype.registerOnTouched=function(t){this.onTouchedFn=t},t.prototype.setDateFromInput=function(t){this.flatpickrElement.nativeElement._flatpickr.setDate(t,!0)},t.prototype.setAltInputPlaceholder=function(t){this.flatpickrElement.nativeElement._flatpickr.altInput.setAttribute("placeholder",t)},t.prototype.ngAfterViewInit=function(){this.config&&Object.assign(this.defaultFlatpickrOptions,this.config),this.flatpickrElement.nativeElement.flatpickr&&(this.flatpickr=this.flatpickrElement.nativeElement.flatpickr(this.defaultFlatpickrOptions)),this.setDate&&this.setDateFromInput(this.setDate)},t.prototype.ngOnChanges=function(t){this.flatpickrElement.nativeElement&&this.flatpickrElement.nativeElement._flatpickr&&(t.hasOwnProperty("setDate")&&t.setDate.currentValue&&this.setDateFromInput(t.setDate.currentValue),this.config.altInput&&t.hasOwnProperty("placeholder")&&t.placeholder.currentValue&&this.setAltInputPlaceholder(t.placeholder.currentValue))},t.prototype.onFocus=function(t){this.onTouchedFn()},t.ɵfac=function(e){return new(e||t)},t.ɵcmp=n.ɵɵdefineComponent({type:t,selectors:[["ng2-flatpickr"]],viewQuery:function(t,e){var i;(1&t&&n.ɵɵstaticViewQuery(r,!0),2&t)&&(n.ɵɵqueryRefresh(i=n.ɵɵloadQuery())&&(e.flatpickrElement=i.first))},inputs:{config:"config",placeholder:"placeholder",addClass:"addClass",setDate:"setDate",tabindex:"tabindex",hideButton:"hideButton"},features:[n.ɵɵProvidersFeature([{provide:i.NG_VALUE_ACCESSOR,useExisting:n.forwardRef((function(){return t})),multi:!0}]),n.ɵɵNgOnChangesFeature],ngContentSelectors:l,decls:4,vars:1,consts:[[1,"ng2-flatpickr-input-container"],["flatpickr",""],["type","text","data-input","",3,"class","placeholder","tabindex","focus",4,"ngIf"],["type","text","data-input","",3,"placeholder","tabindex","focus"]],template:function(t,e){1&t&&(n.ɵɵprojectionDef(),n.ɵɵelementStart(0,"div",0,1),n.ɵɵtemplate(2,o,1,5,"input",2),n.ɵɵprojection(3),n.ɵɵelementEnd()),2&t&&(n.ɵɵadvance(2),n.ɵɵproperty("ngIf",!e.hideButton))},directives:[a.NgIf],encapsulation:2}),t}(),s=function(){function t(t,e,i,a){this.parent=t,this.ngControl=e,this.element=i,this.renderer=a,this.flatpickrOnChange=new n.EventEmitter,this.flatpickrOnClose=new n.EventEmitter,this.flatpickrOnOpen=new n.EventEmitter,this.flatpickrOnReady=new n.EventEmitter}return t.prototype.onClick=function(){this.flatpickr.toggle()},Object.defineProperty(t.prototype,"control",{get:function(){return this.parent?this.parent.formDirective.getControl(this.ngControl):null},enumerable:!0,configurable:!0}),t.prototype.ngAfterViewInit=function(){var t=this.element.nativeElement;if(null==t)throw"Error: invalid input element specified";this.flatpickrOptions.wrap&&(this.renderer.setAttribute(this.element.nativeElement,"data-input",""),t=t.parentNode),this.flatpickr=t.flatpickr(this.flatpickrOptions)},t.prototype.ngOnChanges=function(t){this.flatpickr&&this.flatpickrAltInput&&t.hasOwnProperty("placeholder")&&t.placeholder.currentValue&&this.flatpickr.altInput.setAttribute("placeholder",t.placeholder.currentValue)},t.prototype.ngOnDestroy=function(){this.flatpickr&&this.flatpickr.destroy(),this.formControlListener&&(this.formControlListener.unsubscribe(),this.formControlListener=void 0),this.flatpickrOnChange=void 0,this.flatpickrOnClose=void 0,this.flatpickrOnOpen=void 0,this.flatpickrOnReady=void 0},t.prototype.ngOnInit=function(){var t=this;this.globalOnChange=this.flatpickrOptions.onChange,this.globalOnClose=this.flatpickrOptions.onClose,this.globalOnOpen=this.flatpickrOptions.onOpen,this.globalOnReady=this.flatpickrOptions.onReady,this.flatpickrOptions={altFormat:this.getOption("altFormat"),altInput:this.getOption("altInput"),altInputClass:this.getOption("altInputClass"),allowInput:this.getOption("allowInput"),appendTo:this.getOption("appendTo"),clickOpens:this.getOption("clickOpens",!0),dateFormat:this.getOption("dateFormat"),defaultDate:this.getOption("defaultDate"),disable:this.getOption("disable"),disableMobile:this.getOption("disableMobile"),enable:this.getOption("enable"),enableTime:this.getOption("enableTime"),enableSeconds:this.getOption("enableSeconds"),hourIncrement:this.getOption("hourIncrement"),inline:this.getOption("inline"),locale:this.getOption("locale"),maxDate:this.getOption("maxDate"),minDate:this.getOption("minDate"),minuteIncrement:this.getOption("minuteIncrement"),mode:this.getOption("mode"),nextArrow:this.getOption("nextArrow"),noCalendar:this.getOption("noCalendar"),onChange:this.eventOnChange.bind(this),onClose:this.eventOnClose.bind(this),onOpen:this.eventOnOpen.bind(this),onReady:this.eventOnReady.bind(this),parseDate:this.getOption("parseDate"),prevArrow:this.getOption("prevArrow"),shorthandCurrentMonth:this.getOption("shorthandCurrentMonth"),static:this.getOption("static"),time_24hr:this.getOption("time_24hr"),utc:this.getOption("utc"),weekNumbers:this.getOption("weekNumbers"),wrap:this.getOption("wrap",!0)},Object.keys(this.flatpickrOptions).forEach((function(e){void 0===t.flatpickrOptions[e]&&delete t.flatpickrOptions[e]})),this.control&&(this.formControlListener=this.control.valueChanges.subscribe((function(e){e instanceof Date||t.control.setValue(new Date(""+e),{onlySelf:!0,emitEvent:!1,emitModelToViewChange:!1,emitViewToModelChange:!1})})))},t.prototype.eventOnChange=function(t,e,n){var i={selectedDates:t,dateStr:e,instance:n};this.flatpickrOnChange&&this.flatpickrOnChange.emit(i),this.globalOnChange&&this.globalOnChange(i)},t.prototype.eventOnClose=function(t,e,n){var i={selectedDates:t,dateStr:e,instance:n};this.flatpickrOnClose&&this.flatpickrOnClose.emit(i),this.globalOnClose&&this.globalOnClose(i)},t.prototype.eventOnOpen=function(t,e,n){var i={selectedDates:t,dateStr:e,instance:n};this.flatpickrOnOpen&&this.flatpickrOnOpen.emit(i),this.globalOnOpen&&this.globalOnOpen(i)},t.prototype.eventOnReady=function(t,e,n){var i={selectedDates:t,dateStr:e,instance:n};this.flatpickrOnReady&&this.flatpickrOnReady.emit(i),this.globalOnReady&&this.globalOnReady(i)},t.prototype.getOption=function(t,e){var n="flatpickr"+t.substring(0,1).toUpperCase()+t.substring(1);return void 0!==this[n]?this[n]:void 0!==this.flatpickrOptions[t]?this.flatpickrOptions[t]:e},t.ɵfac=function(e){return new(e||t)(n.ɵɵdirectiveInject(i.ControlContainer),n.ɵɵdirectiveInject(i.NgControl),n.ɵɵdirectiveInject(n.ElementRef),n.ɵɵdirectiveInject(n.Renderer2))},t.ɵdir=n.ɵɵdefineDirective({type:t,selectors:[["","flatpickr",""]],hostBindings:function(t,e){1&t&&n.ɵɵlistener("dblclick",(function(){return e.onClick()}))},inputs:{flatpickrOptions:["flatpickr","flatpickrOptions"],placeholder:"placeholder",flatpickrAltFormat:["altFormat","flatpickrAltFormat"],flatpickrAltInput:["altInput","flatpickrAltInput"],flatpickrAltInputClass:["altInputClass","flatpickrAltInputClass"],flatpickrAllowInput:["allowInput","flatpickrAllowInput"],flatpickrAppendTo:["appendTo","flatpickrAppendTo"],flatpickrClickOpens:["clickOpens","flatpickrClickOpens"],flatpickrDateFormat:["dateFormat","flatpickrDateFormat"],flatpickrDefaultDate:["defaultDate","flatpickrDefaultDate"],flatpickrDisable:["disable","flatpickrDisable"],flatpickrDisableMobile:["disableMobile","flatpickrDisableMobile"],flatpickrEnable:["enable","flatpickrEnable"],flatpickrEnableTime:["enableTime","flatpickrEnableTime"],flatpickrEnableSeconds:["enableSeconds","flatpickrEnableSeconds"],flatpickrHourIncrement:["hourIncrement","flatpickrHourIncrement"],flatpickrInline:["inline","flatpickrInline"],flatpickrLocale:["locale","flatpickrLocale"],flatpickrMaxDate:["maxDate","flatpickrMaxDate"],flatpickrMinDate:["minDate","flatpickrMinDate"],flatpickrMinuteIncrement:["minuteIncrement","flatpickrMinuteIncrement"],flatpickrMode:["mode","flatpickrMode"],flatpickrNextArrow:["nextArrow","flatpickrNextArrow"],flatpickrNoCalendar:["noCalendar","flatpickrNoCalendar"],flatpickrParseDate:["parseDate","flatpickrParseDate"],flatpickrPrevArrow:["prevArrow","flatpickrPrevArrow"],flatpickrShorthandCurrentMonth:["shorthandCurrentMonth","flatpickrShorthandCurrentMonth"],flatpickrStatic:["static","flatpickrStatic"],flatpickrTime_24hr:["time_24hr","flatpickrTime_24hr"],flatpickrUtc:["utc","flatpickrUtc"],flatpickrWeekNumbers:["weekNumbers","flatpickrWeekNumbers"],flatpickrWrap:["wrap","flatpickrWrap"]},outputs:{flatpickrOnChange:"onChange",flatpickrOnClose:"onClose",flatpickrOnOpen:"onOpen",flatpickrOnReady:"onReady"},exportAs:["ng2-flatpickr"],features:[n.ɵɵNgOnChangesFeature]}),t}(),c=function(){function t(){}return t.ɵmod=n.ɵɵdefineNgModule({type:t}),t.ɵinj=n.ɵɵdefineInjector({factory:function(e){return new(e||t)},imports:[[a.CommonModule]]}),t}();("undefined"==typeof ngJitMode||ngJitMode)&&n.ɵɵsetNgModuleScope(c,{declarations:[p,s],imports:[a.CommonModule],exports:[p,s]}),t.Ng2FlatpickrComponent=p,t.Ng2FlatpickrDirective=s,t.Ng2FlatpickrModule=c,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=ng2-flatpickr.umd.min.js.map